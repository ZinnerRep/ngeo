!function(e){function t(t){for(var n,l,i=t[0],p=t[1],u=t[2],c=0,y=[];c<i.length;c++)l=i[c],o[l]&&y.push(o[l][0]),o[l]=0;for(n in p)Object.prototype.hasOwnProperty.call(p,n)&&(e[n]=p[n]);for(s&&s(t);y.length;)y.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,i=1;i<r.length;i++){var p=r[i];0!==o[p]&&(n=!1)}n&&(a.splice(t--,1),e=l(l.s=r[0]))}return e}var n={},o={21:0},a=[];function l(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=e,l.c=n,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(r,n,function(t){return e[t]}.bind(null,n));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var i=window.webpackJsonp=window.webpackJsonp||[],p=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var s=p;a.push([368,0]),r()}({366:function(e,t){e.exports='<span ng-if=::!layertreeCtrl.isRoot>{{::layertreeCtrl.node.name}}</span> <input type=checkbox ng-if="::layertreeCtrl.node && !layertreeCtrl.node.children" ng-model=layertreeCtrl.getSetActive ng-model-options="{getterSetter: true}"/> <button ng-if="::layertreeCtrl.node && !layertreeCtrl.node.children" ng-click="ctrl.onButtonClick(layertreeCtrl.node, layertreeCtrl.layer)">i</button> <ul ng-if=::layertreeCtrl.node.children> <li ng-repeat="node in ::layertreeCtrl.node.children" ngeo-layertree=::node ngeo-layertree-templateurl=partials/layertree.html ngeo-layertree-notroot ngeo-layertree-map=layertreeCtrl.map ngeo-layertree-nodelayerexpr=layertreeCtrl.nodelayerExpr> </li> </ul> '},367:function(e,t,r){"use strict";r.r(t);r(483);var n=r(19),o=r(26),a=r(18),l=r(32),i=r(292),p=r(248),u=r(23),s=r(192),c={};c.module=angular.module("app",["gettext",p.a.name,u.a.name,s.a.module.name]),c.layertreeComponent={bindings:{map:"=appLayertreeMap"},controller:"AppLayertreeController",template:'<div ngeo-layertree="::$ctrl.tree" ngeo-layertree-templateurl="examples/layertree" ngeo-layertree-map="$ctrl.map" ngeo-layertree-nodelayer="$ctrl.getLayer(node)"></div>'},c.module.run(["$templateCache",function(e){e.put("examples/layertree",r(366))}]),c.module.component("appLayertree",c.layertreeComponent),c.LayertreeController=function(e,t,r,n){var o=this;this.tree=void 0,e.get("data/tree.json").then(function(e){o.tree=e.data}),this.http_=e,this.sce_=t,this.getLayer_=r,this.infoPopup_=n(),this.promises_={}},c.LayertreeController.$inject=["$http","$sce","appGetLayer","ngeoCreatePopup"],c.LayertreeController.prototype.getLayer=function(e){return this.getLayer_(e)},c.LayertreeController.prototype.onButtonClick=function(e,t){var r=this,n=e.layerType;n in this.promises_||(this.promises_[n]=this.http_.get("data/metadata.html").then(function(e){return r.sce_.trustAsHtml(e.data)}));var o=this.infoPopup_;this.promises_[n].then(function(t){o.setTitle(e.name),o.setContent(t),o.setOpen(!0)})},c.module.controller("AppLayertreeController",c.LayertreeController),c.getLayer=function(){var e={};return function(t){if(!("layerType"in t))return null;var r=t.layerType;if(r in e)return e[r];var n=void 0;n="stamenWatercolor"==r?new i.a({layer:"watercolor"}):"stamenTerrain-labels"==r?new i.a({layer:"terrain-labels"}):"osmHumanitarian"==r?new l.b({url:"https://tile-{a-c}.openstreetmap.fr/hot/{z}/{x}/{y}.png"}):"osmCycle"==r?new l.b({url:"https://{a-c}.tile.thunderforest.com/cycle/{z}/{x}/{y}.png"}):"osmTransport"==r?new l.b({url:"https://{a-c}.tile.thunderforest.com/transport/{z}/{x}/{y}.png"}):new l.b;var o=new a.a({source:n});return o.set("type",r),e[r]=o,o}}(),c.module.value("appGetLayer",c.getLayer),c.MainController=function(){this.map=new n.a({layers:[new a.a({source:new l.b})],view:new o.a({center:[-10983710.59086991,4686507.078220731],zoom:4})})},c.module.controller("MainController",c.MainController),t.default=c},368:function(e,t,r){r(54),r(53),e.exports=r(367)},483:function(e,t){}});
//# sourceMappingURL=layertree.ec5263.js.map